(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],[,,,,,,,,function(e,t,a){e.exports={current:"styles_current__1qWax",notFound:"styles_notFound__3Wt4N",currentTime:"styles_currentTime__I2M2k",currentWrapper:"styles_currentWrapper__3eBc7",currentItem:"styles_currentItem__2FX4S"}},function(e,t,a){e.exports={days3:"styles_days3__eUFuS",days3Title:"styles_days3Title__3j6OL",partOfDay:"styles_partOfDay__2Tq0G",moment:"styles_moment__NlgBa"}},function(e,t,a){e.exports={days8:"styles_days8__2t76x",days8Title:"styles_days8Title__3bWWu",daysList:"styles_daysList__2QI3T",day:"styles_day__s731O",moment:"styles_moment__AwDdN",toCurrent:"styles_toCurrent__LAUEb"}},,,function(e,t,a){e.exports={searchWrapper:"styles_searchWrapper__2DNzg",search:"styles_search__2FsAs",searchInput:"styles_searchInput__3RZ-y",selectedCity:"styles_selectedCity__3kNLo",cityName:"styles_cityName__2v0QS"}},,function(e,t,a){e.exports={header:"styles_header__2LQRQ",selectPeriod:"styles_selectPeriod__3Ly7d",selectButton:"styles_selectButton__2d0Uk"}},function(e,t,a){e.exports={precipitation:"styles_precipitation__3Vuif",moment:"styles_moment__14Sz3"}},function(e,t,a){e.exports={cityLabel:"styles_cityLabel__11dAD",cityName:"styles_cityName__2Yl2G",cityInput:"styles_cityInput__2WUs3"}},,,,,,function(e,t,a){e.exports={weather:"styles_weather__3N9ud"}},function(e,t,a){e.exports={title:"styles_title__34xU0"}},function(e,t,a){e.exports={preset:"styles_preset__2QKk2"}},,,,,,,,,,,,,function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),c=a(22),i=a.n(c),r=a(3),l=a(23),o=a.n(l),d=a(2),u=a(15),y=a.n(u),j=a(24),m=a.n(j),h=a(0);var b=function(){return Object(h.jsx)("h1",{className:m.a.title,children:"Weather-App"})},p=a(25),O=a.n(p),f=a(17),_=a.n(f),x=a(12),v=function(e){var t=Object(d.g)();return Object(h.jsx)(x.b,{to:"/"+e.daysAmount+"/"+e.currentCity,className:_.a.cityLabel,children:Object(h.jsx)("div",{id:e.id,className:_.a.cityInput,onClick:function(t){e.changeCity(t,e.id)},children:Object(h.jsx)("span",{className:_.a.cityName,style:e.id===t.pathname.slice(7)?{border:"0.5px solid rgb(139, 21, 21)"}:{border:"0"},children:e.city})})})},N=function(e){var t=Object(s.useState)([{city:"Minsk",id:"Minsk"},{city:"Moscow",id:"Moscow"},{city:"Bratislava",id:"Bratislava"}]),a=Object(r.a)(t,2),n=a[0];a[1];return Object(h.jsx)("div",{className:O.a.preset,children:n.map((function(t){return Object(h.jsx)(v,{id:t.id,city:t.city,changeCity:e.changeCity,currentCity:e.currentCity,daysAmount:e.daysAmount},t.city)}))})},g=a(13),w=a.n(g),C=function(e){var t=Object(s.useState)(""),a=Object(r.a)(t,2),n=a[0],c=a[1];return Object(h.jsxs)("div",{className:w.a.searchWrapper,children:[Object(h.jsx)("div",{className:w.a.search,children:Object(h.jsx)("input",{className:w.a.searchInput,type:"text",name:"search-city",placeholder:"search city",value:n,onChange:function(e){c(e.target.value)},onKeyPress:function(t){"Enter"===t.key&&(0!==n.search(/[\u0430-\u044f\u0410-\u042f\u0451\u0401]/g)&&n.length>1?(e.changeCity(t,n),c("")):(c(""),alert("Enter the city in Latin letters")))}})}),Object(h.jsxs)("span",{className:w.a.selectedCity,children:["Weather in ",Object(h.jsx)("span",{className:w.a.cityName,children:e.currentCity})]})]})},S=function(e){return Object(h.jsxs)("section",{className:y.a.header,children:[Object(h.jsx)(b,{}),Object(h.jsx)(N,{daysAmount:e.daysAmount,currentCity:e.currentCity,changeCity:e.changeCity}),Object(h.jsx)(C,{changeCity:e.changeCity,currentCity:e.currentCity.toUpperCase()}),Object(h.jsxs)("div",{className:y.a.selectPeriod,children:[Object(h.jsx)("button",{className:y.a.selectButton,onClick:function(t){e.newDaysAmount("days8")},children:"To 8 days"}),Object(h.jsx)("button",{className:y.a.selectButton,onClick:function(t){e.newDaysAmount("days3")},children:"To 3 days"})]})]})},k=a(8),T=a.n(k),A=function(e){var t=Object(s.useState)(),a=Object(r.a)(t,2),n=a[0],c=a[1],i=Object(s.useState)(0),l=Object(r.a)(i,2),o=l[0],d=l[1],u=Object(s.useState)(0),y=Object(r.a)(u,2),j=y[0],m=y[1],b=Object(s.useState)(0),p=Object(r.a)(b,2),O=p[0],f=p[1],_=Object(s.useState)(""),x=Object(r.a)(_,2),v=x[0],N=x[1],g=Object(s.useState)(""),w=Object(r.a)(g,2),C=w[0],S=w[1],k=Object(s.useState)(10800),A=Object(r.a)(k,2),W=A[0],I=A[1];return Object(s.useEffect)((function(){var t;t=e.currentCity,S(""),fetch("http://api.openweathermap.org/data/2.5/weather?q=".concat(t,"&type=like&units=metric&appid=2767f783403ac9fedd6aa003a5194148")).then((function(e){return e.json()})).then((function(e){e.main?(I(e.timezone),c(e.main),d(e.wind.speed),m(e.rain?+JSON.stringify(e.rain).slice(6,-1):0),f(e.snow?+JSON.stringify(e.snow).slice(6,-1):0)):S("City not found!")})),function(e){var t=new Date,a=t.getTime()+6e4*t.getTimezoneOffset(),s=new Date(a+1e3*e),n=s.toLocaleString().slice(0,17),c=["Su","Mo","Tu","We","Th","Fr","Sa"][s.getDay()];N(n+", "+c)}(W)}),[e.currentCity,W]),Object(h.jsxs)("div",{className:T.a.current,children:[Object(h.jsx)("div",{className:T.a.notFound,children:C}),Object(h.jsxs)("div",{className:T.a.currentTime,children:["Weather forecast for ",v," (local time)"]}),Object(h.jsxs)("div",{className:T.a.currentWrapper,children:[Object(h.jsxs)("div",{className:T.a.currentItem,children:["*t - ",null===n||void 0===n?void 0:n.temp," \u2103"]}),Object(h.jsxs)("div",{className:T.a.currentItem,children:["*feels like - ",null===n||void 0===n?void 0:n.feels_like," \u2103"]}),Object(h.jsxs)("div",{className:T.a.currentItem,children:["*rh - ",null===n||void 0===n?void 0:n.humidity,"%"]}),Object(h.jsxs)("div",{className:T.a.currentItem,children:["*wind - ",o]}),Object(h.jsx)("div",{className:T.a.currentItem,children:j&&j>0?"*rain - "+j+" mm/h":""}),Object(h.jsx)("div",{className:T.a.currentItem,children:O&&O>0?"*snow - "+O+" mm/3h":""})]})]})},W=a(9),I=a.n(W),D=a(16),L=a.n(D),F=function(e){return Object(h.jsxs)("div",{className:L.a.precipitation,children:[Object(h.jsxs)("div",{className:L.a.moment,style:e.rain?{display:"block"}:{display:"none"},children:["\u2602",e.rain?" "+e.rain+" mm"+e.interval1:""]}),Object(h.jsxs)("div",{className:L.a.moment,style:e.snow?{display:"block"}:{display:"none"},children:["\u2746",e.snow?" "+e.snow+" mm"+e.interval2:""]}),Object(h.jsx)("div",{className:L.a.moment,style:e.rain||e.snow?{display:"none"}:{display:"block"},children:"without \u2602"})]})},B=function(e){var t=Object(s.useState)(),a=Object(r.a)(t,2),n=a[0],c=a[1],i=function(e,t){var a=new Date(1e3*(e-21600)+1e3*t);return a.toLocaleString().slice(0,17)+", "+["Su","Mo","Tu","We","Th","Fr","Sa"][a.getDay()]},l=function(e,t){switch(e+t/3600){case 3:case 4:case 5:case 27:case 28:case 29:return!0;default:return!1}};return Object(s.useEffect)((function(){var t;"days8"!==e.daysAmount&&(t=e.currentCity,fetch("http://api.openweathermap.org/data/2.5/forecast?q=".concat(t,"&cnt=24&type=like&units=metric&appid=2767f783403ac9fedd6aa003a5194148")).then((function(e){return e.json()})).then((function(e){e.list&&c(e)})))}),[e]),Object(h.jsxs)("div",{className:I.a.days3,children:[Object(h.jsx)("div",{className:I.a.days3Title,children:"Weather forecast for 3 days"}),Object(h.jsx)("ul",{children:null===n||void 0===n?void 0:n.list.map((function(e,t){return Object(h.jsxs)("li",{className:I.a.partOfDay,style:l(+e.dt_txt.slice(10,13),n.city.timezone)?{backgroundColor:"rgb(148, 109, 240)",color:"#fff"}:{backgroundColor:"rgb(238, 237, 252)"},children:[Object(h.jsx)("div",{className:I.a.moment,children:i(e.dt,n.city.timezone)}),Object(h.jsxs)("div",{className:I.a.moment,children:["t ",e.main.temp,"\u2103"]}),Object(h.jsx)("div",{className:I.a.moment,style:e.clouds.all<21?{display:"block",color:"rgb(250, 391, 157)"}:{display:"none"},children:"\u2600"}),Object(h.jsx)("div",{className:I.a.moment,style:e.clouds.all>20&&e.clouds.all<61?{display:"block",color:"rgb(190, 190, 190)"}:{display:"none"},children:"\u26c5"}),Object(h.jsx)("div",{className:I.a.moment,style:e.clouds.all>60?{display:"block",color:"#000"}:{display:"none"},children:"\u2601"}),Object(h.jsxs)("div",{className:I.a.moment,children:["wind ",e.wind.speed]}),Object(h.jsx)(F,{rain:e.rain?+JSON.stringify(e.rain).slice(6,-1):void 0,snow:e.snow?+JSON.stringify(e.snow).slice(6,-1):void 0,interval1:"/h",interval2:"/3h"})]},t)}))})]})},M=a(10),E=a.n(M),z=function(e){var t=Object(s.useState)(),a=Object(r.a)(t,2),n=a[0],c=a[1],i=function(e,t){var a=new Date(1e3*(e-21600)+1e3*t);return a.toLocaleString().slice(0,10)+", "+["Su","Mo","Tu","We","Th","Fr","Sa"][a.getDay()]};return Object(s.useEffect)((function(){var t;"days3"!==e.daysAmount&&(t=e.match.params.city,fetch("http://api.openweathermap.org/data/2.5/weather?q=".concat(t,"&type=like&units=metric&appid=2767f783403ac9fedd6aa003a5194148")).then((function(e){if(e.status>=200&&e.status<300)return e.json()})).then((function(e){e&&fetch("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(e.coord.lat,"&lon=").concat(e.coord.lon,"&exclude=current,minutely,hourly,alerts&units=metric&appid=2767f783403ac9fedd6aa003a5194148")).then((function(e){if(e.status>=200&&e.status<300)return e.json()})).then((function(e){e.daily&&c(e)}))})))}),[e.currentCity,e.match]),Object(h.jsxs)("div",{className:E.a.days8,children:[Object(h.jsx)("div",{className:E.a.days8Title,children:"Weather forecast for 8 days"}),Object(h.jsx)("ul",{className:E.a.daysList,children:null===n||void 0===n?void 0:n.daily.map((function(e,t){return Object(h.jsxs)("li",{className:E.a.day,style:t%2?{backgroundColor:"#def8f6"}:{backgroundColor:"rgb(233, 235, 272)"},children:[Object(h.jsx)("div",{className:E.a.moment,children:i(e.dt,n.timezone_offset)}),Object(h.jsxs)("div",{className:E.a.moment,children:["night t: ",e.temp.night,"\u2103"]}),Object(h.jsxs)("div",{className:E.a.moment,children:["day t: ",e.temp.day,"\u2103"]}),Object(h.jsxs)("div",{className:E.a.moment,children:["wind: ",e.wind_speed,";"]}),Object(h.jsx)(F,{rain:e.rain,snow:e.snow,interval1:"",interval2:""})]},t)}))})]})};var J=function(){var e=Object(d.g)(),t=Object(s.useState)("/"!==e.pathname?e.pathname.slice(1,6):"days3"),a=Object(r.a)(t,2),n=a[0],c=a[1],i=Object(s.useState)("/"!==e.pathname?e.pathname.slice(7):"Minsk"),l=Object(r.a)(i,2),u=l[0],y=l[1],j=Object(d.f)();return Object(s.useEffect)((function(){u&&j.push({pathname:"/"+n+"/"+u})}),[u,n]),Object(h.jsxs)("main",{className:o.a.weather,children:[Object(h.jsx)(S,{changeCity:function(e,t){y(t)},currentCity:u,daysAmount:n,newDaysAmount:function(e){c(e)}}),Object(h.jsx)(A,{currentCity:u}),Object(h.jsxs)(d.c,{children:[Object(h.jsx)(d.a,{exact:!0,path:"/days3/:city",children:function(e){var t=e.match;return Object(h.jsx)(B,{daysAmount:n,currentCity:u,match:t})}}),Object(h.jsx)(d.a,{exact:!0,path:"/days8/:city",children:function(e){var t=e.match;return Object(h.jsx)(z,{daysAmount:n,currentCity:u,match:t})}})]})]})};var P=function(){return Object(h.jsx)(x.a,{children:Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(J,{})})})},U=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,39)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),s(e),n(e),c(e),i(e)}))};i.a.render(Object(h.jsx)(n.a.Fragment,{children:Object(h.jsx)(P,{})}),document.getElementById("root")),U()}],[[38,1,2]]]);
//# sourceMappingURL=main.a2906a75.chunk.js.map